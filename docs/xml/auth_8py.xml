<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.10.0" xml:lang="en-US">
  <compounddef id="auth_8py" kind="file" language="Python">
    <compoundname>auth.py</compoundname>
    <innerclass refid="classapi_1_1views_1_1auth_1_1ProfileView" prot="public">api::views::auth::ProfileView</innerclass>
    <innerclass refid="classapi_1_1views_1_1auth_1_1SellerView" prot="public">api::views::auth::SellerView</innerclass>
    <innerclass refid="classapi_1_1views_1_1auth_1_1APILoginView" prot="public">api::views::auth::APILoginView</innerclass>
    <innerclass refid="classapi_1_1views_1_1auth_1_1APISignupView" prot="public">api::views::auth::APISignupView</innerclass>
    <innernamespace refid="namespaceapi">api</innernamespace>
    <innernamespace refid="namespaceapi_1_1views">api::views</innernamespace>
    <innernamespace refid="namespaceapi_1_1views_1_1auth">api::views::auth</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1" refid="namespaceapi_1_1views_1_1auth" refkind="compound"><highlight class="comment">#<sp/>Manages<sp/>authentication,<sp/>user,<sp/>profile,<sp/>group<sp/>related<sp/>views</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>typing<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Dict,<sp/>Union</highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>django.contrib.auth.models<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>User,<sp/>Group</highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>django.http<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>JsonResponse</highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>django.http.request<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>HttpRequest</highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespaceaccounts_1_1forms" kindref="compound">accounts.forms</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>SellerForm</highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespaceaccounts_1_1models" kindref="compound">accounts.models</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>UserProfile,<sp/>SellerProfile</highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>django.views.generic<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>View</highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>django.contrib.auth.mixins<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>LoginRequiredMixin</highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>django.core.exceptions<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>ObjectDoesNotExist</highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>django.contrib<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>messages</highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>django.contrib.auth<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>(authenticate,<sp/>login,<sp/>logout)</highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacehome_1_1forms" kindref="compound">home.forms</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>UserSignUp</highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>re</highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="comment">#<sp/>Update<sp/>this<sp/>variable<sp/>to<sp/>change<sp/>the<sp/>default<sp/>data<sp/>to<sp/>be<sp/>sent<sp/>for<sp/>the<sp/>anonymous<sp/>user</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17" refid="namespaceapi_1_1views_1_1auth_1ae95fb867bb929cc9c87278107e4bdc1a" refkind="member"><highlight class="normal">NotLoggedIn:<sp/>Dict[str,<sp/>Union[str,<sp/>bool]]<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="18"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;username&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;anonymous&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;loggedIn&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="20"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;first_name&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;Anonymous&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="21"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;last_name&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal">}</highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight></codeline>
<codeline lineno="25" refid="namespaceapi_1_1views_1_1auth_1a6741b9225b9dd9ab0f33a3ab25f7c474" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespaceapi_1_1views_1_1auth_1a6741b9225b9dd9ab0f33a3ab25f7c474" kindref="member">get_current_user</ref>(request:<sp/>HttpRequest)<sp/>-&gt;<sp/>JsonResponse:</highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="27"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Get<sp/>the<sp/>details<sp/>of<sp/>current<sp/>user</highlight></codeline>
<codeline lineno="28"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="29"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>:param<sp/>request:<sp/>GET<sp/>request<sp/>to<sp/>get<sp/>the<sp/>current<sp/>user<sp/>data</highlight></codeline>
<codeline lineno="30"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>:type<sp/>request:<sp/>HttpRequest</highlight></codeline>
<codeline lineno="31"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>:return:<sp/>User<sp/>data</highlight></codeline>
<codeline lineno="32"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>:rtype:<sp/>JsonResponse</highlight></codeline>
<codeline lineno="33"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>request.method<sp/>!=<sp/></highlight><highlight class="stringliteral">&apos;GET&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>JsonResponse({</highlight><highlight class="stringliteral">&apos;msg&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;Invalid<sp/>request&apos;</highlight><highlight class="normal">},<sp/>status=400)</highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>request.user.is_anonymous:</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>JsonResponse(NotLoggedIn,<sp/>status=200)</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>JsonResponse(dict(username=request.user.username,<sp/>full_name=request.user.get_full_name(),</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>short_name=request.user.get_short_name(),<sp/>email=request.user.email,</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>loggedIn=</highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>request.user.is_anonymous),<sp/>status=200)</highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight></codeline>
<codeline lineno="44" refid="classapi_1_1views_1_1auth_1_1ProfileView" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classapi_1_1views_1_1auth_1_1ProfileView" kindref="compound">ProfileView</ref>(LoginRequiredMixin,<sp/>View):</highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight></codeline>
<codeline lineno="46" refid="classapi_1_1views_1_1auth_1_1ProfileView_1aa3131f169090025ad9485a8a7c6bda43" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classapi_1_1views_1_1auth_1_1ProfileView_1aa3131f169090025ad9485a8a7c6bda43" kindref="member">get</ref>(self,<sp/>request:<sp/>HttpRequest)<sp/>-&gt;<sp/>JsonResponse:</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="48"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Return<sp/>the<sp/>current<sp/>profile<sp/>data,<sp/>as<sp/>json</highlight></codeline>
<codeline lineno="49"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:param<sp/>request:<sp/>GET<sp/>request<sp/>to<sp/>get<sp/>the<sp/>profile<sp/>data</highlight></codeline>
<codeline lineno="50"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:type<sp/>request:<sp/>HttpRequest</highlight></codeline>
<codeline lineno="51"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:return:<sp/>current<sp/>profile<sp/>details<sp/>for<sp/>the<sp/>user</highlight></codeline>
<codeline lineno="52"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:rtype:<sp/>JsonResponse</highlight></codeline>
<codeline lineno="53"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>First<sp/>check<sp/>if<sp/>the<sp/>user<sp/>has<sp/>a<sp/>profile<sp/>configured,<sp/>or<sp/>else<sp/>create<sp/>a<sp/>new<sp/>profile</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p<sp/>=<sp/>self.request.user.userprofile</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>ObjectDoesNotExist:</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>request.user.userprofile<sp/>=<sp/><ref refid="classaccounts_1_1models_1_1UserProfile" kindref="compound">UserProfile</ref>()</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p<sp/>=<sp/>request.user.userprofile</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data<sp/>=<sp/>dict()</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data[</highlight><highlight class="stringliteral">&apos;first_name&apos;</highlight><highlight class="normal">]<sp/>=<sp/>request.user.first_name</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data[</highlight><highlight class="stringliteral">&apos;last_name&apos;</highlight><highlight class="normal">]<sp/>=<sp/>request.user.last_name</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data[</highlight><highlight class="stringliteral">&apos;gender&apos;</highlight><highlight class="normal">]<sp/>=<sp/>p.gender</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data[</highlight><highlight class="stringliteral">&apos;phone&apos;</highlight><highlight class="normal">]<sp/>=<sp/>p.phone</highlight></codeline>
<codeline lineno="65"><highlight class="normal"></highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data[</highlight><highlight class="stringliteral">&apos;is_seller&apos;</highlight><highlight class="normal">]<sp/>=<sp/>bool(request.user.groups.filter(name=</highlight><highlight class="stringliteral">&apos;Merchant&apos;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>data[</highlight><highlight class="stringliteral">&apos;is_seller&apos;</highlight><highlight class="normal">]:</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data[</highlight><highlight class="stringliteral">&apos;store_name&apos;</highlight><highlight class="normal">]<sp/>=<sp/>request.user.sellerprofile.store_name</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data[</highlight><highlight class="stringliteral">&apos;address&apos;</highlight><highlight class="normal">]<sp/>=<sp/>request.user.sellerprofile.address</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data[</highlight><highlight class="stringliteral">&apos;pincode&apos;</highlight><highlight class="normal">]<sp/>=<sp/>request.user.sellerprofile.pincode</highlight></codeline>
<codeline lineno="72"><highlight class="normal"></highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>JsonResponse(data,<sp/>status=200)</highlight></codeline>
<codeline lineno="74"><highlight class="normal"></highlight></codeline>
<codeline lineno="75" refid="classapi_1_1views_1_1auth_1_1ProfileView_1a411d6c7a0c24391a5878aaf37c37d0ee" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classapi_1_1views_1_1auth_1_1ProfileView_1a411d6c7a0c24391a5878aaf37c37d0ee" kindref="member">post</ref>(self,<sp/>request:<sp/>HttpRequest)<sp/>-&gt;<sp/>JsonResponse:</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="77"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Processes<sp/>the<sp/>formData<sp/>to<sp/>update<sp/>the<sp/>profile<sp/>data<sp/>in<sp/>database</highlight></codeline>
<codeline lineno="78"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="79"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:param<sp/>request:<sp/>POST<sp/>data<sp/>to<sp/>update<sp/>the<sp/>profile</highlight></codeline>
<codeline lineno="80"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:type<sp/>request:<sp/>HttpRequest</highlight></codeline>
<codeline lineno="81"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:return:<sp/>Responds<sp/>if<sp/>the<sp/>data<sp/>has<sp/>been<sp/>updated,<sp/>or<sp/>request<sp/>failed</highlight></codeline>
<codeline lineno="82"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:rtype:<sp/>JsonResponse</highlight></codeline>
<codeline lineno="83"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data<sp/>=<sp/>self.request.POST</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>phone<sp/>=<sp/>data.get(</highlight><highlight class="stringliteral">&quot;phone&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="86"><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>re.match(</highlight><highlight class="stringliteral">r&quot;^\d{10}$&quot;</highlight><highlight class="normal">,<sp/>phone):</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>messages.error(request,<sp/></highlight><highlight class="stringliteral">&quot;Phone<sp/>number<sp/>must<sp/>be<sp/>Numeric<sp/>and<sp/>10<sp/>characters<sp/>in<sp/>length&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>JsonResponse({</highlight><highlight class="stringliteral">&quot;msg&quot;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&quot;request<sp/>failed<sp/>with<sp/>error&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;err&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&quot;Phone<sp/>number<sp/>must<sp/>be<sp/>numeric<sp/>and<sp/>of<sp/>10<sp/>digits<sp/>in<sp/>length&quot;</highlight><highlight class="normal">})</highlight></codeline>
<codeline lineno="91"><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>user:<sp/>User<sp/>=<sp/>request.user</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>user.first_name<sp/>=<sp/>data.get(</highlight><highlight class="stringliteral">&apos;first_name&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>user.last_name<sp/>=<sp/>data.get(</highlight><highlight class="stringliteral">&apos;last_name&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>user.save()</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>user.userprofile.gender<sp/>=<sp/>data.get(</highlight><highlight class="stringliteral">&apos;gender&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>user.userprofile.phone<sp/>=<sp/>phone</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>user.userprofile.save()</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>user.save()</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>ObjectDoesNotExist:</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>prof<sp/>=<sp/><ref refid="classaccounts_1_1models_1_1UserProfile" kindref="compound">UserProfile</ref>(user=user,<sp/>gender=data.get(</highlight><highlight class="stringliteral">&apos;gender&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">),<sp/>phone=phone)</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>prof.save()</highlight></codeline>
<codeline lineno="104"><highlight class="normal"></highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>JsonResponse({</highlight><highlight class="stringliteral">&apos;status&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;Data<sp/>updated&apos;</highlight><highlight class="normal">},<sp/>status=200)</highlight></codeline>
<codeline lineno="106"><highlight class="normal"></highlight></codeline>
<codeline lineno="107"><highlight class="normal"></highlight></codeline>
<codeline lineno="108" refid="classapi_1_1views_1_1auth_1_1SellerView" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classapi_1_1views_1_1auth_1_1SellerView" kindref="compound">SellerView</ref>(LoginRequiredMixin,<sp/>View):</highlight></codeline>
<codeline lineno="109"><highlight class="normal"></highlight></codeline>
<codeline lineno="110" refid="classapi_1_1views_1_1auth_1_1SellerView_1ae6360487a413a9cd395c508fa43e66bd" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classapi_1_1views_1_1auth_1_1SellerView_1ae6360487a413a9cd395c508fa43e66bd" kindref="member">get</ref>(self,<sp/>request):</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sp:<sp/>SellerProfile<sp/>=<sp/>self.request.user.sellerprofile</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>JsonResponse({</highlight><highlight class="stringliteral">&apos;is_seller&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;store_name&apos;</highlight><highlight class="normal">:<sp/>sp.store_name,</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;address&apos;</highlight><highlight class="normal">:<sp/>sp.address,<sp/></highlight><highlight class="stringliteral">&apos;pincode&apos;</highlight><highlight class="normal">:<sp/>sp.pincode},<sp/>status=200)</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>ObjectDoesNotExist:</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>JsonResponse({</highlight><highlight class="stringliteral">&apos;is_seller&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal">},<sp/>status=400)</highlight></codeline>
<codeline lineno="117"><highlight class="normal"></highlight></codeline>
<codeline lineno="118" refid="classapi_1_1views_1_1auth_1_1SellerView_1aa937e4da1c36983fa96762cd1cecb829" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classapi_1_1views_1_1auth_1_1SellerView_1aa937e4da1c36983fa96762cd1cecb829" kindref="member">post</ref>(self,<sp/>request):</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data<sp/>=<sp/><ref refid="classaccounts_1_1forms_1_1SellerForm" kindref="compound">SellerForm</ref>(request.POST)</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>data.is_valid():</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>post_data<sp/>=<sp/>request.POST</highlight></codeline>
<codeline lineno="123"><highlight class="normal"></highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p<sp/>=<sp/><ref refid="classaccounts_1_1models_1_1SellerProfile" kindref="compound">SellerProfile</ref>(user=self.request.user,</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>address=post_data[</highlight><highlight class="stringliteral">&apos;address&apos;</highlight><highlight class="normal">],</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>store_name=post_data[</highlight><highlight class="stringliteral">&apos;store_name&apos;</highlight><highlight class="normal">],</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pincode=post_data[</highlight><highlight class="stringliteral">&apos;pincode&apos;</highlight><highlight class="normal">])</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p.save()</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.request.user.groups.add(Group.objects.get(name=</highlight><highlight class="stringliteral">&apos;Merchant&apos;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.request.user.save()</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>JsonResponse({</highlight><highlight class="stringliteral">&apos;msg&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&quot;You&apos;re<sp/>seller<sp/>now,<sp/>maybeðŸ¤”&quot;</highlight><highlight class="normal">},<sp/>status=200)</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>TypeError<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>e:</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(e)</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>JsonResponse({</highlight><highlight class="stringliteral">&apos;msg&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;Invalid<sp/>data&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;errors&apos;</highlight><highlight class="normal">:<sp/>data.errors},<sp/>status=400)</highlight></codeline>
<codeline lineno="135"><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"></highlight></codeline>
<codeline lineno="137" refid="classapi_1_1views_1_1auth_1_1APILoginView" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classapi_1_1views_1_1auth_1_1APILoginView" kindref="compound">APILoginView</ref>(View):</highlight></codeline>
<codeline lineno="138" refid="classapi_1_1views_1_1auth_1_1APILoginView_1adb29801a87e909477b8a7eef6f82d138" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classapi_1_1views_1_1auth_1_1APILoginView_1adb29801a87e909477b8a7eef6f82d138" kindref="member">get</ref>(self,<sp/>request:<sp/>HttpRequest)<sp/>-&gt;<sp/>JsonResponse:</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.request.user.is_anonymous:</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>JsonResponse({</highlight><highlight class="stringliteral">&apos;loggedIn&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal">})</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>JsonResponse({</highlight><highlight class="stringliteral">&apos;msg&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;already<sp/>Logged<sp/>in&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;loggedIn&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">})</highlight></codeline>
<codeline lineno="142"><highlight class="normal"></highlight></codeline>
<codeline lineno="143" refid="classapi_1_1views_1_1auth_1_1APILoginView_1a46b7781e2baa756a8720c0beb22e7510" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classapi_1_1views_1_1auth_1_1APILoginView_1a46b7781e2baa756a8720c0beb22e7510" kindref="member">post</ref>(self,<sp/>request:<sp/>HttpRequest)<sp/>-&gt;<sp/>JsonResponse:</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data<sp/>=<sp/>self.request.POST</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>username<sp/>=<sp/>data[</highlight><highlight class="stringliteral">&apos;username&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>password<sp/>=<sp/>data[</highlight><highlight class="stringliteral">&apos;password&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="147"><highlight class="normal"></highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>user<sp/>=<sp/>authenticate(request,<sp/>username=username,<sp/>password=password)</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>user<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>login(request,<sp/>user)</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>JsonResponse({</highlight><highlight class="stringliteral">&apos;msg&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;Successfully<sp/>logged<sp/>In&apos;</highlight><highlight class="normal">})</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>JsonResponse({</highlight><highlight class="stringliteral">&apos;msg&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;invalid<sp/>credentials&apos;</highlight><highlight class="normal">})</highlight></codeline>
<codeline lineno="153"><highlight class="normal"></highlight></codeline>
<codeline lineno="154"><highlight class="normal"></highlight></codeline>
<codeline lineno="155" refid="namespaceapi_1_1views_1_1auth_1ac648108b8d1beb29493dd55f667759c4" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespaceapi_1_1views_1_1auth_1ac648108b8d1beb29493dd55f667759c4" kindref="member">api_logout</ref>(request:<sp/>HttpRequest):</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>request.user.is_anonymous:</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>JsonResponse({</highlight><highlight class="stringliteral">&apos;msg&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;Invalid<sp/>request&apos;</highlight><highlight class="normal">},<sp/>status=400)</highlight></codeline>
<codeline lineno="158"><highlight class="normal"></highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/>logout(request)</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>JsonResponse({</highlight><highlight class="stringliteral">&apos;msg&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;Logged<sp/>out<sp/>successfully&apos;</highlight><highlight class="normal">},<sp/>status=200)</highlight></codeline>
<codeline lineno="161"><highlight class="normal"></highlight></codeline>
<codeline lineno="162"><highlight class="normal"></highlight></codeline>
<codeline lineno="163" refid="classapi_1_1views_1_1auth_1_1APISignupView" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classapi_1_1views_1_1auth_1_1APISignupView" kindref="compound">APISignupView</ref>(View):</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="165"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Custom<sp/>signup<sp/>view<sp/>from<sp/>scratch,<sp/>implemented<sp/>from<sp/>scratch<sp/>as<sp/>I<sp/>was<sp/>unable<sp/>to</highlight></codeline>
<codeline lineno="166"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>integrate<sp/>json<sp/>response<sp/>property<sp/>with<sp/>the<sp/>default<sp/>view</highlight></codeline>
<codeline lineno="167"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="168"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Will<sp/>replace<sp/>as<sp/>soon<sp/>as<sp/>the<sp/>response<sp/>is<sp/>generated<sp/>by<sp/>inheriting<sp/>SignupView<sp/>from</highlight></codeline>
<codeline lineno="169"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>`allauth.account.views`</highlight></codeline>
<codeline lineno="170"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="171"><highlight class="normal"></highlight></codeline>
<codeline lineno="172" refid="classapi_1_1views_1_1auth_1_1APISignupView_1a548a02eb730e97c156dd8993473f774b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classapi_1_1views_1_1auth_1_1APISignupView_1a548a02eb730e97c156dd8993473f774b" kindref="member">__init__</ref>(self,<sp/>*args,<sp/>**kwargs):</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>super().<ref refid="classapi_1_1views_1_1auth_1_1APISignupView_1a548a02eb730e97c156dd8993473f774b" kindref="member">__init__</ref>(*args,<sp/>**kwargs)</highlight></codeline>
<codeline lineno="174" refid="classapi_1_1views_1_1auth_1_1APISignupView_1ae7c236cd6c03d74091fcccf2c2f156eb" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classapi_1_1views_1_1auth_1_1APISignupView_1ae7c236cd6c03d74091fcccf2c2f156eb" kindref="member">form</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="175" refid="classapi_1_1views_1_1auth_1_1APISignupView_1a6786b950bfa8b2b56a961dc84d124e0c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classapi_1_1views_1_1auth_1_1APISignupView_1a6786b950bfa8b2b56a961dc84d124e0c" kindref="member">user</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="176"><highlight class="normal"></highlight></codeline>
<codeline lineno="177" refid="classapi_1_1views_1_1auth_1_1APISignupView_1af6a6280c709463e5280e67bf7ed51660" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classapi_1_1views_1_1auth_1_1APISignupView_1af6a6280c709463e5280e67bf7ed51660" kindref="member">get</ref>(self,<sp/>request):</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classapi_1_1views_1_1auth_1_1APISignupView_1ae7c236cd6c03d74091fcccf2c2f156eb" kindref="member">form</ref><sp/>=<sp/><ref refid="classhome_1_1forms_1_1UserSignUp" kindref="compound">UserSignUp</ref>()</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>JsonResponse({</highlight><highlight class="stringliteral">&apos;msg&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;POST<sp/>method<sp/>required&apos;</highlight><highlight class="normal">,<sp/></highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;fields&apos;</highlight><highlight class="normal">:<sp/>list(self.<ref refid="classapi_1_1views_1_1auth_1_1APISignupView_1ae7c236cd6c03d74091fcccf2c2f156eb" kindref="member">form</ref>.fields.keys())},<sp/>status=400)</highlight></codeline>
<codeline lineno="181"><highlight class="normal"></highlight></codeline>
<codeline lineno="182" refid="classapi_1_1views_1_1auth_1_1APISignupView_1a5def6e2e1a27685b2afa199e47c7acea" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classapi_1_1views_1_1auth_1_1APISignupView_1a5def6e2e1a27685b2afa199e47c7acea" kindref="member">post</ref>(self,<sp/>request:<sp/>HttpRequest):</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="184"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Post<sp/>method<sp/>for<sp/>signup<sp/>of<sp/>the<sp/>user</highlight></codeline>
<codeline lineno="185"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="186"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:param<sp/>request:<sp/>a<sp/>Http<sp/>Post<sp/>request</highlight></codeline>
<codeline lineno="187"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:type<sp/>request:<sp/>HttpRequest</highlight></codeline>
<codeline lineno="188"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:return:<sp/>data<sp/>whether<sp/>the<sp/>request<sp/>was<sp/>successful</highlight></codeline>
<codeline lineno="189"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:rtype:<sp/>JsonResponse</highlight></codeline>
<codeline lineno="190"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>form<sp/>=<sp/><ref refid="classhome_1_1forms_1_1UserSignUp" kindref="compound">UserSignUp</ref>(request.POST)</highlight></codeline>
<codeline lineno="192"><highlight class="normal"></highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>form.is_valid():</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Create<sp/>a<sp/>dummy<sp/>user</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classapi_1_1views_1_1auth_1_1APISignupView_1a6786b950bfa8b2b56a961dc84d124e0c" kindref="member">user</ref><sp/>=<sp/>User.objects.create_user(username=form.clean_username(),<sp/>email=form.clean_email())</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classapi_1_1views_1_1auth_1_1APISignupView_1a6786b950bfa8b2b56a961dc84d124e0c" kindref="member">user</ref>.set_password(request.POST[</highlight><highlight class="stringliteral">&apos;password1&apos;</highlight><highlight class="normal">])</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>form.signup(self.<ref refid="classapi_1_1views_1_1auth_1_1APISignupView_1a6786b950bfa8b2b56a961dc84d124e0c" kindref="member">user</ref>)</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>JsonResponse({</highlight><highlight class="stringliteral">&apos;msg&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;user<sp/>created&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;id&apos;</highlight><highlight class="normal">:<sp/>self.<ref refid="classapi_1_1views_1_1auth_1_1APISignupView_1a6786b950bfa8b2b56a961dc84d124e0c" kindref="member">user</ref>.id},<sp/>status=201)</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>JsonResponse({</highlight><highlight class="stringliteral">&apos;msg&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;errors&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;errors&apos;</highlight><highlight class="normal">:<sp/>form.errors})</highlight></codeline>
    </programlisting>
    <location file="/tmp/github_repos_arch_doc_gen/mukeshgurpude/medstore/api/views/auth.py"/>
  </compounddef>
</doxygen>
