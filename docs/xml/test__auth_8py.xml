<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.10.0" xml:lang="en-US">
  <compounddef id="test__auth_8py" kind="file" language="Python">
    <compoundname>test_auth.py</compoundname>
    <innerclass refid="classapi_1_1tests_1_1test__auth_1_1ProfileTestCase" prot="public">api::tests::test_auth::ProfileTestCase</innerclass>
    <innerclass refid="classapi_1_1tests_1_1test__auth_1_1TestLoginLogout" prot="public">api::tests::test_auth::TestLoginLogout</innerclass>
    <innerclass refid="classapi_1_1tests_1_1test__auth_1_1TestSellerViews" prot="public">api::tests::test_auth::TestSellerViews</innerclass>
    <innernamespace refid="namespaceapi">api</innernamespace>
    <innernamespace refid="namespaceapi_1_1tests">api::tests</innernamespace>
    <innernamespace refid="namespaceapi_1_1tests_1_1test__auth">api::tests::test_auth</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1" refid="namespaceapi_1_1tests" refkind="compound"><highlight class="keyword">from</highlight><highlight class="normal"><sp/>typing<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Dict,<sp/>Union</highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>django.test<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>TestCase</highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>django.http<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>JsonResponse</highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>django.contrib.auth<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>get_user_model</highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>django.utils.decorators<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>method_decorator</highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespaceapi_1_1tests_1_1utils" kindref="compound">api.tests.utils</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>create_merchant</highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespaceapi_1_1decorators" kindref="compound">api.decorators</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>check_response</highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight></codeline>
<codeline lineno="9" refid="namespaceapi_1_1tests_1_1test__auth_1a1f82f789cc5d111d08c952e6a2e211c1" refkind="member"><highlight class="normal">User<sp/>=<sp/>get_user_model()</highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight></codeline>
<codeline lineno="11" refid="namespaceapi_1_1tests_1_1test__auth_1a1639fcbd054e8a094769083b62ad9b46" refkind="member"><highlight class="normal">USER_CREDENTIALS:<sp/>Dict[str,<sp/>str]<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="12"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;username&quot;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&quot;newUser&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="13"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;password&quot;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&quot;myPasswordWith.&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal">}</highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight></codeline>
<codeline lineno="16" refid="namespaceapi_1_1tests_1_1test__auth_1a27c4fbe4d4072a8142482d86247d9d9b" refkind="member"><highlight class="normal">UPDATED_CREDENTIALS:<sp/>Dict[str,<sp/>Union[str,<sp/>int]]<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="17"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;first_name&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;changedName&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="18"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;gender&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;Male&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;phone&apos;</highlight><highlight class="normal">:<sp/>8456217463</highlight></codeline>
<codeline lineno="20"><highlight class="normal">}</highlight></codeline>
<codeline lineno="21" refid="namespaceapi_1_1tests_1_1test__auth_1aa26b03aec66735f726ea42bb62e99851" refkind="member"><highlight class="normal">STORE_DATA<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;store_name&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;Medstore&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="23"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;address&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;Internet&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;pincode&apos;</highlight><highlight class="normal">:<sp/>101010,</highlight></codeline>
<codeline lineno="25"><highlight class="normal">}</highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight></codeline>
<codeline lineno="28" refid="classapi_1_1tests_1_1test__auth_1_1ProfileTestCase" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classapi_1_1tests_1_1test__auth_1_1ProfileTestCase" kindref="compound">ProfileTestCase</ref>(TestCase):</highlight></codeline>
<codeline lineno="29" refid="classapi_1_1tests_1_1test__auth_1_1ProfileTestCase_1adf535cae078dbbd897b863a5b1a23ad3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classapi_1_1tests_1_1test__auth_1_1ProfileTestCase_1adf535cae078dbbd897b863a5b1a23ad3" kindref="member">__init__</ref>(self,<sp/>*args,<sp/>**kwargs):</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>super(ProfileTestCase,<sp/>self).<ref refid="classapi_1_1tests_1_1test__auth_1_1ProfileTestCase_1adf535cae078dbbd897b863a5b1a23ad3" kindref="member">__init__</ref>(*args,<sp/>**kwargs)</highlight></codeline>
<codeline lineno="31" refid="classapi_1_1tests_1_1test__auth_1_1ProfileTestCase_1aea8f091fb8f0336d547f7fb4d3b8da13" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classapi_1_1tests_1_1test__auth_1_1ProfileTestCase_1aea8f091fb8f0336d547f7fb4d3b8da13" kindref="member">failureException</ref><sp/>=<sp/>ValueError</highlight></codeline>
<codeline lineno="32" refid="classapi_1_1tests_1_1test__auth_1_1ProfileTestCase_1acc1be88c7733a72f9e7df4acec0b21f9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classapi_1_1tests_1_1test__auth_1_1ProfileTestCase_1acc1be88c7733a72f9e7df4acec0b21f9" kindref="member">longMessage</ref><sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="33" refid="classapi_1_1tests_1_1test__auth_1_1ProfileTestCase_1af1440e9c26c304f73ef759713f420fac" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classapi_1_1tests_1_1test__auth_1_1ProfileTestCase_1af1440e9c26c304f73ef759713f420fac" kindref="member">res</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight></codeline>
<codeline lineno="35" refid="classapi_1_1tests_1_1test__auth_1_1ProfileTestCase_1a316293bd13b94fb94c1596702c4b7584" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classapi_1_1tests_1_1test__auth_1_1ProfileTestCase_1a316293bd13b94fb94c1596702c4b7584" kindref="member">setUp</ref>(self)<sp/>-&gt;<sp/>None:</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="37"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Setup<sp/>the<sp/>test<sp/>user,<sp/>and<sp/>log<sp/>in<sp/>with<sp/>the<sp/>test<sp/>user<sp/>to<sp/>access<sp/>the<sp/>profile<sp/>page</highlight></codeline>
<codeline lineno="38"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="39" refid="classapi_1_1tests_1_1test__auth_1_1ProfileTestCase_1aa1f3fa793da5bfd4db96861b65c67db8" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classapi_1_1tests_1_1test__auth_1_1ProfileTestCase_1aa1f3fa793da5bfd4db96861b65c67db8" kindref="member">user</ref><sp/>=<sp/>User.objects.create_user(**USER_CREDENTIALS)</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.client.login(**USER_CREDENTIALS)</highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@method_decorator(check_response(path=&quot;/api/v1/user/&quot;)</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="43" refid="classapi_1_1tests_1_1test__auth_1_1ProfileTestCase_1a809a1d64c4af9a3fed953d3db7b47c09" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classapi_1_1tests_1_1test__auth_1_1ProfileTestCase_1a809a1d64c4af9a3fed953d3db7b47c09" kindref="member">test_get_user</ref>(self):</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="45"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tests<sp/>if<sp/>logged<sp/>in<sp/>user<sp/>is<sp/>returned</highlight></codeline>
<codeline lineno="46"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res:<sp/>JsonResponse<sp/>=<sp/>self.client.get(</highlight><highlight class="stringliteral">&quot;/api/v1/user/&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.assertEqual(self.<ref refid="classapi_1_1tests_1_1test__auth_1_1ProfileTestCase_1aa1f3fa793da5bfd4db96861b65c67db8" kindref="member">user</ref>.username,<sp/>res.json()[</highlight><highlight class="stringliteral">&apos;username&apos;</highlight><highlight class="normal">])</highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.client.logout()</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res:<sp/>JsonResponse<sp/>=<sp/>self.client.get(</highlight><highlight class="stringliteral">&quot;/api/v1/user/&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.assertEqual(</highlight><highlight class="stringliteral">&apos;anonymous&apos;</highlight><highlight class="normal">,<sp/>res.json()[</highlight><highlight class="stringliteral">&apos;username&apos;</highlight><highlight class="normal">])</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.client.login(**USER_CREDENTIALS)</highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@method_decorator(check_response(path=&quot;/api/v1/profile/&quot;)</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="56" refid="classapi_1_1tests_1_1test__auth_1_1ProfileTestCase_1a711dcae02e93bff28caec1a3d7d10b55" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classapi_1_1tests_1_1test__auth_1_1ProfileTestCase_1a711dcae02e93bff28caec1a3d7d10b55" kindref="member">test_get_output</ref>(self):</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="58"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Tests<sp/>if<sp/>the<sp/>GET<sp/>requests<sp/>to<sp/>profile<sp/>are<sp/>working<sp/>and<sp/>also<sp/>returning<sp/>the<sp/>correct<sp/>response</highlight></codeline>
<codeline lineno="59"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classapi_1_1tests_1_1test__auth_1_1ProfileTestCase_1af1440e9c26c304f73ef759713f420fac" kindref="member">res</ref><sp/>=<sp/>self.client.get(</highlight><highlight class="stringliteral">&apos;/api/v1/profile/&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.assert_(</highlight><highlight class="stringliteral">&apos;first_name&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classapi_1_1tests_1_1test__auth_1_1ProfileTestCase_1af1440e9c26c304f73ef759713f420fac" kindref="member">res</ref>.json(),<sp/></highlight><highlight class="stringliteral">&apos;First<sp/>name<sp/>is<sp/>not<sp/>returned&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.assert_(</highlight><highlight class="stringliteral">&apos;last_name&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classapi_1_1tests_1_1test__auth_1_1ProfileTestCase_1af1440e9c26c304f73ef759713f420fac" kindref="member">res</ref>.json(),<sp/></highlight><highlight class="stringliteral">&apos;Last<sp/>name<sp/>is<sp/>not<sp/>returned&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.assert_(</highlight><highlight class="stringliteral">&apos;phone&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classapi_1_1tests_1_1test__auth_1_1ProfileTestCase_1af1440e9c26c304f73ef759713f420fac" kindref="member">res</ref>.json(),<sp/></highlight><highlight class="stringliteral">&apos;Phone<sp/>number<sp/>is<sp/>not<sp/>returned&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.assert_(</highlight><highlight class="stringliteral">&apos;gender&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classapi_1_1tests_1_1test__auth_1_1ProfileTestCase_1af1440e9c26c304f73ef759713f420fac" kindref="member">res</ref>.json(),<sp/></highlight><highlight class="stringliteral">&apos;Gender<sp/>is<sp/>not<sp/>returned&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.assert_(</highlight><highlight class="stringliteral">&apos;is_seller&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classapi_1_1tests_1_1test__auth_1_1ProfileTestCase_1af1440e9c26c304f73ef759713f420fac" kindref="member">res</ref>.json(),<sp/></highlight><highlight class="stringliteral">&apos;Seller<sp/>details<sp/>are<sp/>not<sp/>returned&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>is_seller<sp/>=<sp/>self.<ref refid="classapi_1_1tests_1_1test__auth_1_1ProfileTestCase_1af1440e9c26c304f73ef759713f420fac" kindref="member">res</ref>.json()[</highlight><highlight class="stringliteral">&apos;is_seller&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.assertIsInstance(is_seller,<sp/>bool)</highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@method_decorator(check_response(path=&quot;/api/v1/profile/&quot;,<sp/>method=&quot;POST&quot;,<sp/>post_data={})</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="70" refid="classapi_1_1tests_1_1test__auth_1_1ProfileTestCase_1a947f1bd8950b16a0d8b2803a92ed0703" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classapi_1_1tests_1_1test__auth_1_1ProfileTestCase_1a947f1bd8950b16a0d8b2803a92ed0703" kindref="member">test_post_output</ref>(self):</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="72"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Tests<sp/>if<sp/>the<sp/>POST<sp/>requests<sp/>to<sp/>profile<sp/>are<sp/>working<sp/>and<sp/>also<sp/>returning<sp/>the<sp/>correct<sp/>response</highlight></codeline>
<codeline lineno="73"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.client.login(**USER_CREDENTIALS)</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>__res:<sp/>JsonResponse<sp/>=<sp/>self.client.get(</highlight><highlight class="stringliteral">&apos;/api/v1/profile/&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_data:<sp/>dict<sp/>=<sp/>__res.json()</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_data.update(UPDATED_CREDENTIALS)</highlight></codeline>
<codeline lineno="78"><highlight class="normal"></highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res:<sp/>JsonResponse<sp/>=<sp/>self.client.post(</highlight><highlight class="stringliteral">&apos;/api/v1/profile/&apos;</highlight><highlight class="normal">,<sp/>_data)</highlight></codeline>
<codeline lineno="80"><highlight class="normal"></highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.assertEqual(res.status_code,<sp/>200)</highlight></codeline>
<codeline lineno="82"><highlight class="normal"></highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Check<sp/>if<sp/>data<sp/>has<sp/>been<sp/>modified</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classapi_1_1tests_1_1test__auth_1_1ProfileTestCase_1aa1f3fa793da5bfd4db96861b65c67db8" kindref="member">user</ref>.refresh_from_db()</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.assertEqual(self.<ref refid="classapi_1_1tests_1_1test__auth_1_1ProfileTestCase_1aa1f3fa793da5bfd4db96861b65c67db8" kindref="member">user</ref>.first_name,<sp/>UPDATED_CREDENTIALS[</highlight><highlight class="stringliteral">&apos;first_name&apos;</highlight><highlight class="normal">])</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.assertEqual(self.<ref refid="classapi_1_1tests_1_1test__auth_1_1ProfileTestCase_1aa1f3fa793da5bfd4db96861b65c67db8" kindref="member">user</ref>.userprofile.gender,<sp/>UPDATED_CREDENTIALS[</highlight><highlight class="stringliteral">&apos;gender&apos;</highlight><highlight class="normal">])</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.assertEqual(self.<ref refid="classapi_1_1tests_1_1test__auth_1_1ProfileTestCase_1aa1f3fa793da5bfd4db96861b65c67db8" kindref="member">user</ref>.userprofile.phone,<sp/>UPDATED_CREDENTIALS[</highlight><highlight class="stringliteral">&apos;phone&apos;</highlight><highlight class="normal">])</highlight></codeline>
<codeline lineno="88"><highlight class="normal"></highlight></codeline>
<codeline lineno="89"><highlight class="normal"></highlight></codeline>
<codeline lineno="90" refid="classapi_1_1tests_1_1test__auth_1_1TestLoginLogout" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classapi_1_1tests_1_1test__auth_1_1TestLoginLogout" kindref="compound">TestLoginLogout</ref>(TestCase):</highlight></codeline>
<codeline lineno="91" refid="classapi_1_1tests_1_1test__auth_1_1TestLoginLogout_1aa286e4554f994e0877299948c1260407" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classapi_1_1tests_1_1test__auth_1_1TestLoginLogout_1aa286e4554f994e0877299948c1260407" kindref="member">setUp</ref>(self)<sp/>-&gt;<sp/>None:</highlight></codeline>
<codeline lineno="92" refid="classapi_1_1tests_1_1test__auth_1_1TestLoginLogout_1a2940006371a359edcd94655225be159a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classapi_1_1tests_1_1test__auth_1_1TestLoginLogout_1a2940006371a359edcd94655225be159a" kindref="member">user</ref><sp/>=<sp/>User.objects.create_user(**USER_CREDENTIALS)</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>self.client.login(**USER_CREDENTIALS)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"></highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@method_decorator(check_response(path=&quot;/api/v1/login/&quot;)</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="96" refid="classapi_1_1tests_1_1test__auth_1_1TestLoginLogout_1a45dc2adbe3f515cdf180c73656cc0c26" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classapi_1_1tests_1_1test__auth_1_1TestLoginLogout_1a45dc2adbe3f515cdf180c73656cc0c26" kindref="member">test_login</ref>(self):</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="98"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Tests<sp/>if<sp/>the<sp/>user<sp/>is<sp/>able<sp/>to<sp/>login</highlight></codeline>
<codeline lineno="99"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res<sp/>=<sp/>self.client.post(</highlight><highlight class="stringliteral">&apos;/api/v1/login/&apos;</highlight><highlight class="normal">,<sp/>USER_CREDENTIALS)</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.assertEqual(res.status_code,<sp/>200)<sp/><sp/></highlight><highlight class="comment">#<sp/>Check<sp/>the<sp/>correct<sp/>code</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="102"><highlight class="normal"></highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res<sp/>=<sp/>self.client.get(</highlight><highlight class="stringliteral">&apos;/api/v1/user/&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.assertEqual(res.json()[</highlight><highlight class="stringliteral">&apos;loggedIn&apos;</highlight><highlight class="normal">],<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;User<sp/>hasn&apos;t<sp/>been<sp/>logged<sp/>out&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="105"><highlight class="normal"></highlight></codeline>
<codeline lineno="106" refid="classapi_1_1tests_1_1test__auth_1_1TestLoginLogout_1a6fcb75dff4ab48ce5b650420c9cce1e3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classapi_1_1tests_1_1test__auth_1_1TestLoginLogout_1a6fcb75dff4ab48ce5b650420c9cce1e3" kindref="member">test_logout</ref>(self):</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="108"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Tests<sp/>the<sp/>functionality<sp/>of<sp/>logging<sp/>out</highlight></codeline>
<codeline lineno="109"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Currently<sp/>the<sp/>user<sp/>is<sp/>logged<sp/>out</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res<sp/>=<sp/>self.client.post(</highlight><highlight class="stringliteral">&apos;/api/v1/logout/&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.assertEqual(res.status_code,<sp/>400,<sp/></highlight><highlight class="stringliteral">&apos;Not<sp/>able<sp/>to<sp/>handle<sp/>invalid<sp/>logout<sp/>request&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="113"><highlight class="normal"></highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.client.login(**USER_CREDENTIALS)</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res<sp/>=<sp/>self.client.post(</highlight><highlight class="stringliteral">&apos;/api/v1/logout/&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.assertEqual(res.status_code,<sp/>200,<sp/></highlight><highlight class="stringliteral">&apos;User<sp/>is<sp/>not<sp/>able<sp/>to<sp/>logout&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="117"><highlight class="normal"></highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res<sp/>=<sp/>self.client.get(</highlight><highlight class="stringliteral">&apos;/api/v1/user/&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.assertEqual(res.json()[</highlight><highlight class="stringliteral">&apos;loggedIn&apos;</highlight><highlight class="normal">],<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;User<sp/>hasn&apos;t<sp/>been<sp/>logged<sp/>out&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="120"><highlight class="normal"></highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@method_decorator(check_response(path=&quot;/api/v1/register/&quot;,<sp/>method=&apos;POST&apos;,<sp/>post_data={})</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="122" refid="classapi_1_1tests_1_1test__auth_1_1TestLoginLogout_1a8c12d0bfb9022a5b858cc28722e99baf" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classapi_1_1tests_1_1test__auth_1_1TestLoginLogout_1a8c12d0bfb9022a5b858cc28722e99baf" kindref="member">test_register</ref>(self):</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;<sp/>Tests<sp/>signup<sp/>functionality<sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Check<sp/>invalid<sp/>data<sp/>first</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>__fake_data:<sp/>Dict<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;username&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;ashketcham&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;email&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;ashKetchum_does_not_exist.gmail.com&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;first_name&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;Ash&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;last_name&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;Ketchum&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;password1&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;PikachuIsMy4378Friend&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;password2&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;PikachuIsMy4378Friend&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res<sp/>=<sp/>self.client.post(</highlight><highlight class="stringliteral">&apos;/api/v1/register/&apos;</highlight><highlight class="normal">,<sp/>__fake_data)</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.assertEqual(res.status_code,<sp/>200)</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>errors<sp/>=<sp/>res.json().get(</highlight><highlight class="stringliteral">&apos;errors&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.assertIsInstance(errors,<sp/>dict,<sp/></highlight><highlight class="stringliteral">&apos;Error<sp/>list<sp/>is<sp/>not<sp/>returned&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.assert_(len(errors)<sp/>&gt;<sp/>0,<sp/></highlight><highlight class="stringliteral">&apos;There<sp/>are<sp/>no<sp/>errors<sp/>thrown&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="138"><highlight class="normal"></highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>__fake_data[</highlight><highlight class="stringliteral">&apos;email&apos;</highlight><highlight class="normal">]<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;ashKetchum_does_not_exist@gmail.com&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res<sp/>=<sp/>self.client.post(</highlight><highlight class="stringliteral">&apos;/api/v1/register/&apos;</highlight><highlight class="normal">,<sp/>__fake_data)</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.assertEqual(res.status_code,<sp/>201)</highlight></codeline>
<codeline lineno="142"><highlight class="normal"></highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>We&apos;re<sp/>getting<sp/>the<sp/>pk<sp/>of<sp/>new<sp/>user<sp/>in<sp/>response</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>new_user:<sp/>User<sp/>=<sp/>User.objects.get(pk=res.json()[</highlight><highlight class="stringliteral">&apos;id&apos;</highlight><highlight class="normal">])</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.assertEqual(new_user.first_name,<sp/>__fake_data[</highlight><highlight class="stringliteral">&apos;first_name&apos;</highlight><highlight class="normal">],<sp/></highlight><highlight class="stringliteral">&apos;No<sp/>user<sp/>is<sp/>created&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="146"><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"></highlight></codeline>
<codeline lineno="148" refid="classapi_1_1tests_1_1test__auth_1_1TestSellerViews" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classapi_1_1tests_1_1test__auth_1_1TestSellerViews" kindref="compound">TestSellerViews</ref>(TestCase):</highlight></codeline>
<codeline lineno="149" refid="classapi_1_1tests_1_1test__auth_1_1TestSellerViews_1ae6af49be2574bb3f223d3a7c79ed63ba" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classapi_1_1tests_1_1test__auth_1_1TestSellerViews_1ae6af49be2574bb3f223d3a7c79ed63ba" kindref="member">setUp</ref>(self)<sp/>-&gt;<sp/>None:</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classapi_1_1tests_1_1test__auth_1_1TestSellerViews_1aa234f44033cc28ab8a256fb9a5db073e" kindref="member">user</ref>:<sp/>User<sp/>=<sp/>User.objects.create_user(**USER_CREDENTIALS)</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.client.login(**USER_CREDENTIALS)</highlight></codeline>
<codeline lineno="152"><highlight class="normal"></highlight></codeline>
<codeline lineno="153" refid="classapi_1_1tests_1_1test__auth_1_1TestSellerViews_1a6b1ceb94a58ab1b66bab7b4aa6b0eb32" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classapi_1_1tests_1_1test__auth_1_1TestSellerViews_1a6b1ceb94a58ab1b66bab7b4aa6b0eb32" kindref="member">test_response</ref>(self):</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="155"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Check<sp/>the<sp/>seller<sp/>view<sp/>data</highlight></codeline>
<codeline lineno="156"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res<sp/>=<sp/>self.client.get(</highlight><highlight class="stringliteral">&apos;/api/v1/sell/&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.assertEqual(res.status_code,<sp/>400)</highlight></codeline>
<codeline lineno="159"><highlight class="normal"></highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classapi_1_1tests_1_1test__auth_1_1TestSellerViews_1a4ed5de8af93cb256c8b035de6988915d" kindref="member">apply</ref>()</highlight></codeline>
<codeline lineno="161"><highlight class="normal"></highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res:<sp/>JsonResponse<sp/>=<sp/>self.client.get(</highlight><highlight class="stringliteral">&apos;/api/v1/sell/&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.assertEqual(res.status_code,<sp/>200)</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.assertEqual(res.json()[</highlight><highlight class="stringliteral">&apos;store_name&apos;</highlight><highlight class="normal">],<sp/>STORE_DATA[</highlight><highlight class="stringliteral">&apos;store_name&apos;</highlight><highlight class="normal">])</highlight></codeline>
<codeline lineno="165"><highlight class="normal"></highlight></codeline>
<codeline lineno="166" refid="classapi_1_1tests_1_1test__auth_1_1TestSellerViews_1a4ed5de8af93cb256c8b035de6988915d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classapi_1_1tests_1_1test__auth_1_1TestSellerViews_1a4ed5de8af93cb256c8b035de6988915d" kindref="member">apply</ref>(self):</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="168"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Tests<sp/>additional<sp/>privilege<sp/>of<sp/>seller<sp/>signup</highlight></codeline>
<codeline lineno="169"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>create_merchant()</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res<sp/>=<sp/>self.client.post(</highlight><highlight class="stringliteral">&apos;/api/v1/sell/&apos;</highlight><highlight class="normal">,<sp/>{**STORE_DATA,<sp/></highlight><highlight class="stringliteral">&apos;pincode&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;dummy&apos;</highlight><highlight class="normal">})</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.assertEqual(res.status_code,<sp/>400)</highlight></codeline>
<codeline lineno="173"><highlight class="normal"></highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res<sp/>=<sp/>self.client.post(</highlight><highlight class="stringliteral">&apos;/api/v1/sell/&apos;</highlight><highlight class="normal">,<sp/>STORE_DATA)</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.assertEqual(res.status_code,<sp/>200)</highlight></codeline>
<codeline lineno="176"><highlight class="normal"></highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>We<sp/>need<sp/>to<sp/>re-fetch<sp/>the<sp/>user<sp/>as<sp/>to<sp/>update<sp/>the<sp/>user<sp/>permissions</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Simple<sp/>`refresh_from_db`<sp/>will<sp/>not<sp/>work<sp/>in<sp/>this<sp/>case,<sp/>because<sp/>it<sp/>updates<sp/>only<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>direct<sp/>attributes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="180" refid="classapi_1_1tests_1_1test__auth_1_1TestSellerViews_1aa234f44033cc28ab8a256fb9a5db073e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classapi_1_1tests_1_1test__auth_1_1TestSellerViews_1aa234f44033cc28ab8a256fb9a5db073e" kindref="member">user</ref><sp/>=<sp/>User.objects.get(username=USER_CREDENTIALS[</highlight><highlight class="stringliteral">&apos;username&apos;</highlight><highlight class="normal">])</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.assert_(self.<ref refid="classapi_1_1tests_1_1test__auth_1_1TestSellerViews_1aa234f44033cc28ab8a256fb9a5db073e" kindref="member">user</ref>.has_perm(</highlight><highlight class="stringliteral">&apos;medicines.add_medicine&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>msg=</highlight><highlight class="stringliteral">&quot;Permission<sp/>hasn&apos;t<sp/>been<sp/>updated&quot;</highlight><highlight class="normal">)</highlight></codeline>
    </programlisting>
    <location file="/tmp/github_repos_arch_doc_gen/mukeshgurpude/medstore/api/tests/test_auth.py"/>
  </compounddef>
</doxygen>
